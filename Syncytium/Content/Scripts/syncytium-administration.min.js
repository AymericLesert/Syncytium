var UserRecord,ModuleRecord,UserModuleRecord;class Administration extends Area{drawSheets(n,t){function i(n,t,i){return function(){n.declareBoard(t,i)}}function r(n){return function(){n.declareFilterInputText("Language","FilterField","LANGUAGE_FILTER")}}super.drawSheets(n,t);this.declareMenu("Users",null,"TITLE_USER");t.push(i(this,"Users",UserRecord.Board));this.declareMenu("Module",null,"TITLE_MODULE");t.push(i(this,"Module",ModuleRecord.Board));this.declareMenu("Language",null,"TITLE_LANGUAGE",null,!0);t.push(i(this,"Language",Language.Board));t.push(r(this))}constructor(n){super("Administration","AREA_ADMINISTRATION",n)}}Language.List=(class extends List.ListRecord{set FilterField(n){(n=String.isEmptyOrWhiteSpaces(n)?null:n,this._filterField!==n)&&(this._filterField=n,this.raise("onLoad",this.Table))}getAttributToolTipHTML(n,t){switch(t){case"EN":case"FR":return this.getAttributText(n,"Comment")}return null}isVisible(n){return super.isVisible(n)?this._filterField===null?!0:String.in(n.FR,this._filterField)||String.in(n.EN,this._filterField)||String.in(n.Key,this._filterField)||String.in(n.Comment,this._filterField):!1}constructor(){super("Language");this._filterField=null}});Language.Board=(class extends GUI.Board.BoardTable{set FilterField(n){this.List.FilterField=n}declareColumns(){function n(n){return function(t,i,r){function u(i){return async function(r){let u=n.List.getItem(t,!0);if(u!==null){let f=DSRecord.Clone(u);f[i]=r;await n.updateItem(u,f)}}}GUI.Box.BoxInputText.Open(Helper.Label("LANGUAGE_UPDATE",i.Key),Helper.Label(i.Key,null,r),Language.Manager.Instance.getLabel(r,i.Key),!1,u(r))}}this.declareColumn("Key","LANGUAGE_KEY",3);for(let t of Array.toIterable(Language.Manager.Instance.Languages)){this.declareColumn(t,Helper.Label("LANGUAGE_LABEL_"+t,null,t),7);this.on("onClick"+t,n(this))}}onOpen(){function n(n){return async function(t,i){if(i===undefined){for(let i of Array.toIterable(Language.Manager.Instance.Languages)){if(i===t&&!n.Webix.isColumnVisible(i)){n.showColumn(i);continue}i!==t&&n.Webix.isColumnVisible(i)&&n.hideColumn(i)}await n.adjustWebix()}}}super.onOpen();this._listenerLanguageManager=Language.Manager.Instance.addListener(n(this));n(this)(DSDatabase.Instance.CurrentLanguage)}onClose(){super.onClose();Language.Manager.Instance.removeListener(this._listenerLanguageManager);this._listenerLanguageManager=null}constructor(n,t,i){super(n,t,i?i:"TITLE_LANGUAGE",new Language.List,GUI.Board.BOARD_NONE);this._listenerLanguageManager=null;this.draw()}});UserRecord={};UserRecord.DEFAULT_PICTURE=function(){return{picture:URL_ROOT+"Content/Images/Header/User.svg",width:100,height:100}};UserRecord.PROFILE_ADMINISTRATOR=0;UserRecord.PROFILE_SUPERVISOR=1;UserRecord.PROFILE_USER=2;UserRecord.PROFILE_OTHER=3;UserRecord.PROFILE_NONE=4;UserRecord.FREQUENCY_NONE=0;UserRecord.FREQUENCY_ASAP=1;UserRecord.FREQUENCY_PERDAY=2;UserRecord.FREQUENCY_PERWEEK=3;UserRecord.FREQUENCY_PERMONTH=4;UserRecord.IsAdministrator=function(n){let t=n?n:DSDatabase.Instance.CurrentUser;return t===null?!1:t.Profile!==null&&t.Profile!==undefined&&t.Profile===UserRecord.PROFILE_ADMINISTRATOR};UserRecord.IsSupervisor=function(n){let t=n?n:DSDatabase.Instance.CurrentUser;return t===null?!1:t.Profile!==null&&t.Profile!==undefined&&(t.Profile===UserRecord.PROFILE_ADMINISTRATOR||t.Profile===UserRecord.PROFILE_SUPERVISOR)};UserRecord.IsUser=function(n){let t=n?n:DSDatabase.Instance.CurrentUser;return t===null?!1:t.Profile!==null&&t.Profile!==undefined&&(t.Profile===UserRecord.PROFILE_ADMINISTRATOR||t.Profile===UserRecord.PROFILE_SUPERVISOR||t.Profile===UserRecord.PROFILE_USER)};UserRecord.IsOther=function(n){let t=n?n:DSDatabase.Instance.CurrentUser;return t===null?!1:t.Profile!==null&&t.Profile!==undefined&&t.Profile===UserRecord.PROFILE_OTHER};UserRecord.IsNone=function(n){let t=n?n:DSDatabase.Instance.CurrentUser;return t===null?!1:t.Profile!==null&&t.Profile!==undefined&&t.Profile!==UserRecord.PROFILE_ADMINISTRATOR&&t.Profile!==UserRecord.PROFILE_SUPERVISOR&&t.Profile!==UserRecord.PROFILE_USER&&t.Profile!==UserRecord.PROFILE_OTHER};UserRecord.IsEnabled=function(n,t){return n===null||n===undefined?!1:n._deleted!==null&&n._deleted!==undefined&&n._deleted?!1:(t===undefined||t===null||t)&&n.Profile!==UserRecord.PROFILE_SUPERVISOR&&n.Profile!==UserRecord.PROFILE_USER?!1:n.EndDate===null?!0:Dates.Compare(n.EndDate,new moment)>=0};UserRecord.getUser=function(n){function i(n){return function(i){i.Login===n&&(t=i)}}let t=null;return List.ListRecord.CACHE_LIST("User").each(i(n)),t};UserRecord.List=(class extends List.ListRecord{isDeleted(n){return super.isDeleted(n)?!0:!UserRecord.IsEnabled(n,!1)}getText(n){return n===null||n===undefined?"":String.isEmptyOrWhiteSpaces(n.Name)?n.Login.trim():n.Name.trim()}getAttributHTML(n,t){switch(t){case"Enable":return"<div class='"+(n.EndDate===null?"true":"false")+"'>&nbsp;&nbsp;&nbsp;&nbsp;<\/div>";case"Profile":return Helper.Span(DSDatabase.Instance.getEnumerable("Module","Profile",n.Profile));default:return super.getAttributHTML(n,t)}}getAttributText(n,t){switch(t){case"Picture":return"";case"Enable":return Language.Manager.Instance.interpolation(Helper.Label(n.EndDate===null?"USER_ENABLE":"USER_DISABLE"));case"Profile":return Language.Manager.Instance.interpolation(DSDatabase.Instance.getEnumerable("Module","Profile",n.Profile));default:return super.getAttributText(n,t)}}getAttributValue(n,t){switch(t){case"Picture":return"";case"Enable":return n.EndDate===null;default:return super.getAttributValue(n,t)}}isBoxFieldVisible(n,t,i,r){if(!super.isBoxFieldVisible(n,t,i,r))return!1;switch(t){case"Profile":return n.IsProfile}return!0}isBoxFieldReadonly(n,t,i,r){if(super.isBoxFieldReadonly(n,t,i,r))return!0;switch(t){case"Profile":return!0;case"Registration":case"Login":return n.IsProfile&&UserRecord.IsUser(r)}return!1}isBoxBoardReadonly(n,t,i,r){if(super.isBoxBoardReadonly(n,t,i,r))return!0;switch(t){case"Modules":return n.IsProfile||!UserRecord.IsAdministrator(i)}return!1}get NewItem(){let n=super.NewItem;return n.CreationDate=new moment,n.Language=DSDatabase.Instance.CurrentLanguage,n.askNewPassword=!1,n}checkItem(n,t,i){let r=super.checkItem(n,t,i);return UserRecord.IsAdministrator(n),r}addItem(n,t,i,r){let u=super.addItem(n,t,i,r);if(t.HasError)return t;if(Helper.IsLabel(u))return u;let f=new moment;return((u.EndDate===null||u.EndDate===undefined||u.EndDate>f)&&DSDatabase.Instance.executeRequest("User","NewPassword",{Id:u.Id},t),t.HasError)?t:u}updateItem(n,t,i,r,u,f){let e=super.updateItem(n,t,i,r,u,f);return r.HasError?r:Helper.IsLabel(e)?e:i.askNewPassword&&(DSDatabase.Instance.executeRequest("User","NewPassword",{Id:e.Id},r),r.HasError)?r:e}constructor(n){super("User",n);this.DefaultPicture=UserRecord.DEFAULT_PICTURE().picture;this.declareListValues("Modules","UserModule","UserId",!0)}});UserRecord.Board=(class extends GUI.Board.BoardTable{get ColumnSortedByDefault(){return"Login"}declareColumns(){function n(n){return async function(t){let i=n.List.getItem(t,!0);if(i!==null){let r=DSDatabase.Instance.CurrentUser;if(r===null||!(r.Id>=0)||i.Id!==r.Id){let u=DSRecord.Clone(i);u.EndDate=u.EndDate===null?new moment:null;await n.updateItem(i,u)}}}}this.declareColumn("Enable",null,2,"center",["Login","Name","WorkcentreOrSectionOrFactory","Id"]);this.declareColumn("Picture",null,3,"center",!1,20,20);this.declareColumn("Login","USER_LOGIN",5,null,["Name","WorkcentreOrSectionOrFactory","Id"]);this.declareColumn("Name","USER_NAME",5,null,["Login","WorkcentreOrSectionOrFactory","Id"]);this.on("onClickEnable",n(this))}constructor(n,t,i,r){super(n,t,i?i:"TITLE_USER",r?r:new UserRecord.List(!0),GUI.Board.BOARD_ALL);this.setVisible(GUI.Board.BOARD_ICON+GUI.Board.BOARD_HELP+GUI.Board.BOARD_CANCEL,!1);this.draw()}});UserRecord.Box=(class extends GUI.Box.BoxRecord{get List(){return this._list}set List(n){this._list=n?n:new UserRecord.List}get IsProfile(){return this._isProfile}get Value(){let n=super.Value;return delete n.Profile,n}getRecordLabel(n,t){if(n===undefined&&t===undefined){if(!String.isEmptyOrWhiteSpaces(this.CurrentRecord.Login)&&!String.isEmptyOrWhiteSpaces(this.CurrentRecord.Name))return this.CurrentRecord.Login+" ("+this.CurrentRecord.Name+")";if(!String.isEmptyOrWhiteSpaces(this.CurrentRecord.Login))return this.CurrentRecord.Login;if(!String.isEmptyOrWhiteSpaces(this.CurrentRecord.Name))return this.CurrentRecord.Name}else{if(!String.isEmptyOrWhiteSpaces(n)&&!String.isEmptyOrWhiteSpaces(t))return n+" ("+t+")";if(!String.isEmptyOrWhiteSpaces(n))return n;if(!String.isEmptyOrWhiteSpaces(t))return t}return"{TITLE_NOT_DEFINED}"}drawAdditionalButton(){function n(n){return function(){return n.debug("Ask a new password"),n.CurrentRecord.askNewPassword=!0,n._buttonNewPassword.Visible=!1,!1}}this._buttonNewPassword=this.declareButton("NewPassword","BTN_NEW_PASSWORD",n(this))}drawContent(n){function t(n){return function(){n.CurrentRecord.Login=n._fieldLogin.Value;n.CurrentRecord.Name=n._fieldName.Value;n.Title=Helper.Label(n.Title.label,n.getRecordLabel(n.CurrentRecord.Login===null?"":n.CurrentRecord.Login,n.CurrentRecord.Name===null?"":n.CurrentRecord.Name))}}super.drawContent(n);this.declarePanel("photo");this._fieldPicture=this.declareField("Picture");this.declarePanel("user");this._fieldName=this.declareField("Name");this._fieldName.on("change",t(this));this._fieldLogin=this.declareField("Login");this._fieldLogin.on("change",t(this));this._fieldRegistration=this.declareField("Registration");this._fieldProfile=this.declareField(new GUI.Field.FieldSelect(this,"Profile","USER_PROFILE",List.ListEnumerable.Factory("Module","Profile",GUI.Box.BoxRecord.ROOT_DIRECTORY)));this._fieldEmail=this.declareField("Email");this.declarePanel("modules");UserModuleRecord.BoardModules&&(this._boardModules=this.declareBoard(new UserModuleRecord.BoardModules(this,"Modules",this._listModules)))}onOpen(){this._isProfile?this.declareNavigationPanels([["photo","user"]]):this.declareNavigationPanels([["photo","user"],["modules"]]);this._listModules.Item=this.CurrentRecord;this._buttonNewPassword!==null&&(this._buttonNewPassword.Visible=this.Mode===GUI.Box.BoxRecord.MODE_UPDATE);super.onOpen()}open(){super.open();this._fieldName.raise("change");this._buttonNewPassword!==null&&this.CurrentRecord.EndDate!==null&&this.CurrentRecord.EndDate!==undefined&&this.CurrentRecord.EndDate<=new moment&&(this._buttonNewPassword.Visible=!1)}createRecord(){this._isProfile=!1;super.createRecord()}readRecord(n){this._isProfile=!1;super.readRecord(n)}updateRecord(n){this._isProfile=!1;super.updateRecord(n)}profile(n){this._isProfile=!0;super.updateRecord(n)}readProfile(n){this._isProfile=!0;super.readRecord(n)}deleteRecord(n){if(!this.IsOpened){let i=this.getRecord(n),t=DSDatabase.Instance.CurrentUser;(t===null||t===undefined||t.Id!==i.Id)&&(this._isProfile=!1,super.deleteRecord(n))}}constructor(n){super("User",n?n:new UserRecord.List);this._isProfile=!1;this._fieldPicture=null;this._fieldRegistration=null;this._fieldLogin=null;this._fieldName=null;this._fieldProfile=null;this._fieldEmail=null;this._fieldDate=null;this._buttonNewPassword=null;this._listModules=new List.ListArrayRecordAssociation(this.List,"Modules",new UserModuleRecord.List,"ModuleId",new ModuleRecord.List);this._boardModules=null;this.draw()}});ModuleRecord={};ModuleRecord.MODULE_ADMINISTRATION=0;ModuleRecord.MODULE_CUSTOMER=1;ModuleRecord.MODULE_NONE=2;ModuleRecord.USERPROFILE_ADMINISTRATOR=0;ModuleRecord.USERPROFILE_SUPERVISOR=1;ModuleRecord.USERPROFILE_USER=2;ModuleRecord.USERPROFILE_OTHER=3;ModuleRecord.USERPROFILE_NONE=4;ModuleRecord.GetModuleName=function(n){if(n===null||n===undefined||n.Module===null||n.Module===undefined)return"";switch(n.Module){case ModuleRecord.MODULE_ADMINISTRATION:return"Administration";case ModuleRecord.MODULE_CUSTOMER:return"Customer"}return""};ModuleRecord.List=(class extends List.ListRecord{getAttributHTML(n,t){switch(t){case"Module":return this.getAttributHTMLEnumerate(n,t,!1);case"Profile":return this.getAttributHTMLEnumerate(n,t,!1);default:return super.getAttributHTML(n,t)}}getAttributText(n,t){switch(t){case"Module":return this.getAttributTextEnumerate(n,t);case"Profile":return this.getAttributTextEnumerate(n,t);case"Enable":return this.getAttributTextBoolean(n,t);default:return super.getAttributText(n,t)}}getAttributValue(n,t){switch(t){case"Module":return this.getAttributTextEnumerate(n,t).toUpperCase();case"Profile":return this.getAttributTextEnumerate(n,t).toUpperCase();default:return super.getAttributValue(n,t)}}isDeleted(n){return super.isDeleted(n)?!0:!n.Enable}isBoxFieldReadonly(n,t,i,r){return super.isBoxFieldReadonly(n,t,i,r)?!0:r.Id===DSDatabase.Instance.CurrentModule.Id&&(t==="Module"||t==="Profile"||t==="Enable")?!0:!1}isBoardAllowed(n,t,i,r){return super.isBoardAllowed(n,t,i,r)?r===null||r===undefined?!0:i==="delete"&&r.Id===DSDatabase.Instance.CurrentModule.Id?!1:!0:!1}constructor(n){super("Module",n);this.declareListValues("Users","UserModule","ModuleId",!0)}});ModuleRecord.ListArray=(class extends List.ListArrayRecord{constructor(n,t){super(n,t,new ModuleRecord.List)}});ModuleRecord.Board=(class extends GUI.Board.BoardTable{get ColumnSortedByDefault(){return"Nom"}declareColumns(){this.declareColumn("Enable",null,1,"center",["Id"]);this.declareColumn("Name","MODULE_NAME",5,"left",["Id"]);this.declareColumn("Description","MODULE_DESCRIPTION",5,"left",["Id"]);this.declareColumn("Module","MODULE_MODULE",3,"left",["Id"]);this.declareColumn("Profile","MODULE_PROFILE",3,"left",["Id"]);this.declareColumn("Parameters","MODULE_PARAMETERS",5,"left",["Id"]);this.on("onClickEnable",GUI.Board.BoardTable.handleClickBoolean(this,!1))}constructor(n,t,i,r){super(n,t,i?i:"TITLE_MODULE",r?r:new ModuleRecord.List,GUI.Board.BOARD_NONE);this.setVisible(GUI.Board.BOARD_ADD+GUI.Board.BOARD_DELETE,!0);this.draw()}});ModuleRecord.Box=(class extends GUI.Box.BoxRecord{get List(){return this._list}set List(n){this._list=n?n:new ModuleRecord.List}drawContent(n){function t(n){return function(){n.Title=Helper.Label(n.Title.label,n.getRecordLabel())}}super.drawContent(n);this.declarePanel("_fields");this._fieldName=this.declareField("Name");this._fieldName.on("change",t(this));this._fieldModule=this.declareField("Module");this._fieldParameters=this.declareField("Parameters");this._fieldProfile=this.declareField("Profile");this._fieldDescription=this.declareField("Description");this._fieldEnable=this.declareField("Enable");this.declarePanel("_users");this._boardUsers=this.declareBoard(new UserModuleRecord.BoardUsers(this,"Users",this._listUsers));this.declareNavigationPanels([["_fields"],["_users"]])}onOpen(){this._listUsers.Item=this.CurrentRecord;super.onOpen()}open(){super.open();this._fieldName.raise("change")}constructor(n){super("Module",n?n:new ModuleRecord.List);this._fieldName=null;this._fieldModule=null;this._fieldParameters=null;this._fieldProfile=null;this._fieldDescription=null;this._fieldEnable=null;this._listUsers=new List.ListArrayRecordAssociation(this.List,"Users",new UserModuleRecord.List,"UserId",new UserRecord.List);this._boardUsers=null;this.draw()}});UserModuleRecord={};UserModuleRecord.List=(class extends List.ListRecord{getAttributHTML(n,t){switch(t){case"Default":return this.getAttributHTMLBoolean(n,t);default:return super.getAttributHTML(n,t)}}getAttributText(n,t){let r=null,i=null;if(n===null||n===undefined)return"";switch(t){case"UserId":return this.getAttributTextReference(n,t,"User");case"ModuleId":return this.getAttributTextReference(n,t,"Module");case"Default":return this.getAttributTextBoolean(n,t);case"Profile":return n._parent&&n._parent._table==="Module"?this.getAttributTextEnumerate(n._parent,t):n.ModuleId===undefined||n.ModuleId===null?"":(r=List.ListRecord.CACHE_LIST("Module"),r===null)?super.getAttributText(n,t):(i=r.getItem(n.ModuleId,!0),i===null||i===undefined)?super.getAttributText(i,t):this.getAttributTextEnumerate(i,t);default:return super.getAttributText(n,t)}}getAttributValue(n,t){switch(t){case"UserId":return this.getAttributTextReference(n,t,"User").toUpperCase();case"ModuleId":return this.getAttributTextReference(n,t,"Module").toUpperCase();case"Default":return this.getAttributTextBoolean(n,t).toUpperCase();default:return super.getAttributValue(n,t)}}isAttributDeleted(n,t){switch(t){case"UserId":return this.isAttributDeletedReference(n,t,"User");case"ModuleId":return this.isAttributDeletedReference(n,t,"Module");default:return super.isAttributDeleted(n,t)}}isBoxFieldReadonly(n,t,i,r){return t==="ModuleId"?!0:super.isBoxFieldReadonly(n,t,i,r)?!0:!1}isBoardAllowed(n,t,i,r){return i==="delete"&&r!==null&&r!==undefined&&(r.UserId!==t.Id||r.ModuleId!==DSDatabase.Instance.CurrentModule.Id),!0}constructor(n){super("UserModule",n)}});UserModuleRecord.ListArray=(class extends List.ListArrayRecord{constructor(n,t){super(n,t,new UserModuleRecord.List)}});UserModuleRecord.BoardModules=(class extends GUI.Board.BoardTableAssociation{onUpdate(){let n=this.getSelectedItem();if(n!==null&&n!==undefined&&n.item!==null&&n.item!==undefined){let t=GUI.Box.BoxRecord.CACHE_DIALOG_BOX("Module",null,List.ListRecord.CACHE_LIST("Module"));t!==null&&t.readRecord(n.item.ModuleId)}}declareColumns(){function n(n){return async function(t){function u(n){return function(t){if(t.Default){let i=DSRecord.Clone(t);t.Default=!1;n.updateItem(n.getId(t),i,t,new Errors,!0)}}}let i=n.List.getItem(t,!0);if(i!==null){let r=DSRecord.Clone(i);n.List.each(u(n.List));r.Default=r.Default===!0?!1:!0;await n.updateItem(i,r)}}}super.declareColumns();this.declareColumn("ModuleId","USERMODULE_MODULEID",5,"left",!1);this.declareColumn("Profile","USERMODULE_PROFILE",3,"center",!1);this.declareColumn("Default","USERMODULE_DEFAULT",1,"center",!1);this.on("onClickDefault",n(this))}onOpen(){super.onOpen();this.handleUpdateRows("Module","ModuleId")}constructor(n,t,i){super(n,t,null,i?i:new UserModuleRecord.List,GUI.Board.BOARD_NONE);this.draw();this.Component.addClass("usermodule")}});UserModuleRecord.BoardUsers=(class extends GUI.Board.BoardTableAssociation{onUpdate(){let n=this.getSelectedItem();if(n!==null&&n!==undefined&&n.item!==null&&n.item!==undefined){let t=GUI.Box.BoxRecord.CACHE_DIALOG_BOX("User",null,List.ListRecord.CACHE_LIST("User"));t!==null&&t.readProfile(n.item.UserId)}}declareColumns(){super.declareColumns();this.declareColumn("UserId","USERMODULE_USERID",5,"left",!1)}onOpen(){super.onOpen();this.handleUpdateRows("User","UserId")}constructor(n,t,i){super(n,t,null,i?i:new UserModuleRecord.List,GUI.Board.BOARD_NONE);this.draw();this.Component.addClass("usermodule")}});UserModuleRecord.Box=(class extends GUI.Box.BoxRecord{get List(){return this._list}set List(n){this._list=n?n:new UserModuleRecord.List}drawContent(n){function t(n,t){return function(){t.refresh()}}function r(n,t,i){return function(){let n=t.Value;if(n!==undefined&&n!==null){let r=List.ListRecord.CACHE_LIST(i).getItem(n,!0);r!==null&&GUI.Box.BoxRecord.CACHE_DIALOG_BOX(i).readRecord(r)}}}function i(n,t,i){return function(){t.Link=t.Value===null?null:r(n,t,i)}}super.drawContent(n);this._fieldUserId=this.declareField("UserId");this._fieldUserId.on("change",i(this,this._fieldUserId,"User"));this._fieldUserId.on("onCreate",t(this,this._fieldUserId,"User"));this._fieldUserId.on("onUpdate",t(this,this._fieldUserId,"User"));this._fieldUserId.on("onDelete",t(this,this._fieldUserId,"User"));this._fieldModuleId=this.declareField("ModuleId");this._fieldModuleId.on("change",i(this,this._fieldModuleId,"Module"));this._fieldModuleId.on("onCreate",t(this,this._fieldModuleId,"Module"));this._fieldModuleId.on("onUpdate",t(this,this._fieldModuleId,"Module"));this._fieldModuleId.on("onDelete",t(this,this._fieldModuleId,"Module"));this._fieldDefault=this.declareField(new GUI.Field.FieldCheckBox(this,"Default","USERMODULE_DEFAULT",["USERMODULE_DEFAULT_NULL","USERMODULE_DEFAULT_TRUE","USERMODULE_DEFAULT_FALSE"]))}open(){super.open();this._fieldUserId.raise("change");this._fieldModuleId.raise("change")}constructor(n){super("UserModule",n?n:new UserModuleRecord.List);this._fieldUserId=null;this._fieldModuleId=null;this._fieldDefault=null;this.draw()}});